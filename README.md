# CineSelect

Это приложение для быстрого поиска информации по фильмам и сериалам с платформы «Кинопоиска».

## Стэк
1) React 18
2) React Router v6
3) Chakra UI
4) webpack
5) npm
6) node.js 18
7) Typescript
8) Redux Toolkit
9) axios
10) Other thirdparty libraries like React Paginate

## Техническая сторона проекта

Я использовал архитектурную методологию для организации проекта Feature Sliced Design (FSD).
В качестве state менеджера я выбрал Redux Toolkit.
ChakraUI была моей UI библиотекой. 
Из-за нехватки времени и желания успеть сделать все я неоднократно использовал сторонние библиотеки,
такие как react-paginate, react-responsive-carousel, react-multi-select-component, ...
Вполне можно было обойтись без них и написать свои решения, однако это было бы времязатратно (об 
уязвимостях внутри npm пакетов я знаю и стараюсь сократить их использование в коммерческих проектах).

Я использовал подход асинхронной подгрузки страниц и асинхронной подгрузки необходимых reducers в нужные места 
и удаление ненужных reducers для оптимизации работы приложения (подход ReducersManager).

Полная настройка webpack мной проводилась с нуля (это можно понять по вынесенных вспомогательным функция в /config)
и самостоятельно. Концепции работы webpack мне знакомы.

Также я постарался написать unit тесты (с ними я тоже знаком, на равне как c RTL, e-2-e, screenshots tests),
однако не успел по времени покрыть весь проект. Я написал пример, как бы я делал тесты для проекта на примере entities/Movie 
для selectors написаны тесты. Также на странице MoviesPage для action fetchMoviesNextPage также написаны тесты. Также
мной написана функция TestAsyncThunk для оптимизации тестирования thunk-ов.

В качестве http-client использовал axios и организовал его конфигурацию в shared/api. Пытался сделать RTK api, но не успел по времени.

Все пункты описанные в файле с заданием я выполнил, хотя много чего делал впервые. 

Мои знания не ограничиваются на коде и подходах, которые вы увидите в этом проекте. Мне также знакомы другие state managers,
работающие иначе, чем Redux (MobX, например). Я знаю другие подходы организации кода, различные паттерны от KISS, DRY
до SOLID, другие архитектурные паттерны такие как DI через IoC контейнер с помощью библиотеку InversifyJS. Все это и мой 
background предлагаю обсудить на интервью.

Спасибо, что дочитали, надеюсь это вам поможет при проверке.

### Важный момент 

На проекте сделана авторизаци и ролевой доступ. Я сделал это через json-server, который поднимается на /localhost:8000 
при запуске определенной команды (будет описано ниже). Если вы не поднимете json-server, авторизация не будет работать.

## Как запустить проект?

1) Установите зависимости 

```bash
npm install
```


2) Создайте файл .env в корне проекта и скопируйте содержимое .env.example туда. Подставте свой API_KEY в соответствующее поле.


3) Запуск проекта в разных режимах

   a) В dev режиме (не будет работать авторизация)

    ```bash
    npm start
    ```

   b) В dev режиме с json-server-ом

    ```bash
    npm run start:dev
    ```


4) Сделать сборку 

   a) prod

    ```bash
    npm run build:prod
    ```

   b) dev

    ```bash
    npm run build:dev
    ```
   
5) Запустить отдельно json-server (будет доступен на /localhost:8000)

```bash
  npm run start:dev:server
```

6) Запустить unit тесты

```bash
  npm run test:unit
```

## Q&A

1) В условиях было сказано "На странице со списком всех фильмов: Реализован поиск по названию фильма". 
API не позволяет это полноценно сделать (мы не можем применить поиск с остальными фильтрами). Поэтому
я сделал поиск фильмов отдельно от страницы "Фильмы" в шапке. Поиск доступен везде и работает как остальных
похожих сайтах.


2) Также поиск фильмов осуществляется не по вводу,а по кнопке. По вводу отображаются подсказки и debounce стоит
у них. Я попросту не знал как подружить ввод и запрос за фильмами, и вывод подсказок, получалась каша (и подсказки, 
и фильмы друг на друге)

3) Список актеров должен быть с пагинацией, она смотрелась там неуместно и я сдела так InfiniteScroll (также как 
и для списка сезонов).

4) Отзывы тоже должны быть с пагинацией, но я также не нашел это уместным там и сделал запрос новых отзывов по кнопке.

5) Вывод списка похожих фильмом в виде карусели. Не доконца понял зачем и как должно выглядеть (ни на одном сайте такого
не встречал). Сделал список с горизонтально прокруткой. А вот на постерах полноценную карусель.

6) Пустые списки я обработал, но вот бороться с пустыми полями была сложнее, пока я не нашел, что можно указать
NotNullableFields. Так что часть кода будет с заглушками на случай null, часть будет нормальной. Постарался учесть все
сущности.

7) Получение жанров и стран я нашел и запрашиваются они с сервера. Но вот с networks сложнее, их нигде не нашел,
да в добавок еще пришлось перебирать подходящие поля (Marvel, например, ему не нравится). Поэтому там hardcode и мало опций.

8) "Запуск проекта в режиме разработчика должен происходить по команде TOKEN=<your api token> npm run start" - я не понял
как это сделать и зачем нужно именно так (честно, пытался). Сделал классический вариант через .env.

9) Я не художник и не дизайнер, к сожалению. Приложение, как по мне, выглядит топорно. Я в первую
очередь сосредоточился на визуальной красоте кода, нежели красоте приложения. За что прошу простить
(глазам может быть больно на это смотреть &#128514;)

10) Спасибо за внимание!)
